{% extends 'base3.html' %}
{% block content %}
   
    <form name="form"  id="form" method="post" action="/salvarprof/">
        {% csrf_token %}
        <fieldset>
        <div class = "input-block">
            <label for="name">Nome</label>
            {{form.nome}}
        </div>
        <div class = "input-block">
            <label for="name">Sobrenome</label>
            {{form.sobrenome}}
        </div>
        
        <div  class="input-block">
            <label for="cpf">CPF<small>(Somente Números)</small> </label>
            {{form.cpf}}
            
        </div>

        
        <div class="input-block">
            <label for="Telefone">Telefone<small>(Somente Números)</small> </label>
            {{form.Telefone}}

        </div>
        <div class="input-block">
            <label for="Telefone">Telefone 2<small>(Somente Números)</small> </label>
            {{form.Telefone2}}

        </div>


     </fieldset>
     <fieldset>
        <legend>Dados Institucional</legend>  
        <div class = "input-block">
         <label for="CNES">CNES OU CNPJ</label>
         {{form.cnes}}
     </div>

      </fieldset>
      <fieldset>
        <legend>Dados Profissionais</legend>  
        <div  class="input-block">
            <label for="Especialidade">Especialidade <small>(Fonoaudiólogo(a) ou Médico(a))</small></label>
            {{form.Especialidade}}
        </div>
        <div class="form-group col-md-4">
            <label for="inputRegistro">Registro do Conselho</label>
            {{form.registro}}
        <div class="input-block">                    
            {{form.Registro_numero}}
        </div>
       </fieldset>
       <br>
        <div class=" main footer button">
            <a href="{% url 'account_signup' %}"><button class="btn btn-success" onclick="valida_form" type="submit">Proximo</button></a>
        </div>


    </form>
    
    <script>
        const cpf = document.getElementById('id_cpf') // Seletor do campo de CPF
            
        cpf.addEventListener('keypress', (e) => cpfmascara(e.target.value)) // Dispara quando digitado no campo
        cpf.addEventListener('change', (e) => cpfmascara(e.target.value)) 
        const cpfmascara = (valor)=>{
          valor=valor.replace(/\D/g,"")
          valor=valor.replace(/(\d{3})(\d)/,"$1.$2")
          valor=valor.replace(/(\d{3})(\d)/,"$1.$2")
          valor=valor.replace(/(\d{3})(\d{1,2})$/,"$1-$2")
          cpf.value = valor
    }		
      </script>
     <script >
        const tel = document.getElementById('id_Telefone') // Seletor do campo de telefone
    
    tel.addEventListener('keypress', (e) => mascaraTelefone(e.target.value)) // Dispara quando digitado no campo
    tel.addEventListener('change', (e) => mascaraTelefone(e.target.value)) // Dispara quando autocompletado o campo
    
    const mascaraTelefone = (valor) => {
        valor = valor.replace(/\D/g, "")
        valor = valor.replace(/^(\d{2})(\d)/g, "($1) $2")
        valor = valor.replace(/(\d)(\d{4})$/, "$1-$2")
        tel.value = valor // Insere o(s) valor(es) no campo
    }
    
    
      </script>
      <script >
        const telefone = document.getElementById('id_Telefone2') // Seletor do campo de telefone
    
    telefone.addEventListener('keypress', (e) => mascara(e.target.value)) // Dispara quando digitado no campo
    telefone.addEventListener('change', (e) => mascara(e.target.value)) // Dispara quando autocompletado o campo
    
    const mascara = (valor) => {
        valor = valor.replace(/\D/g, "")
        valor = valor.replace(/^(\d{2})(\d)/g, "($1) $2")
        valor = valor.replace(/(\d)(\d{4})$/, "$1-$2")
        telefone.value = valor // Insere o(s) valor(es) no campo
    }
      </script>
    <script>
        var password = document.getElementById("Senha")
        , confirm_password = document.getElementById("Senha_confime");

        function validatePassword(){
        if(password.value != confirm_password.value) {
            confirm_password.setCustomValidity("Senhas diferentes!");
        } else {
            confirm_password.setCustomValidity('');
        }
        }

        password.onchange = validatePassword;
        confirm_password.onkeyup = validatePassword;
    </script>

<script type="text/javascript" language="javascript">
    function valida_form (){
    if(document.getElementById("id_nome").value == ""){
    alert('Por favor, preencha os campos Faltantes');
    document.getElementById("id_nome").focus();
    return false
    }else{
        window.location.href = "http://www.devmedia.com.br/";
    }
    }
    </script>



{% endblock %}